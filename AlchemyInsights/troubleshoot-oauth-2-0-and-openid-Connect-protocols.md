---
title: Behandeln von Problemen mit OAuth 2.0- und OpenID Connect-Protokollen
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 03/17/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "9776"
- "9004342"
ms.openlocfilehash: d2f14d4d16bea890b564cdb9bd9ac3875c28d115
ms.sourcegitcommit: c08bed4071baa3bb5879496df3ed44fb828c8367
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/19/2021
ms.locfileid: "50898251"
---
# <a name="troubleshoot-oauth-20-and-openid-connect-protocols"></a><span data-ttu-id="f88ab-102">Behandeln von Problemen mit OAuth 2.0- und OpenID Connect-Protokollen</span><span class="sxs-lookup"><span data-stu-id="f88ab-102">Troubleshoot OAuth 2.0 and OpenID Connect protocols</span></span>

<span data-ttu-id="f88ab-103">Führen Sie die folgenden empfohlenen Schritte aus, um Probleme mit OAuth 2.0 und OpenID Connect zu beheben:</span><span class="sxs-lookup"><span data-stu-id="f88ab-103">To resolve OAuth 2.0 and OpenID Connect issues, perform the following recommended steps:</span></span>

<span data-ttu-id="f88ab-104">Weitere Informationen finden Sie in den folgenden Artikeln zur Konfiguration und Problembehandlung von OAuth 2.0- und OpenID Connect-Protokollen:</span><span class="sxs-lookup"><span data-stu-id="f88ab-104">Refer to the following articles that are related to configuration and troubleshooting OAuth 2.0 and OpenID Connect protocols:</span></span>

- <span data-ttu-id="f88ab-105">[Microsoft Identity Platform und OAuth 2.0 Autorisierungscodeflow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow): In diesem Artikel wird die direkte Programmierung in einer beliebigen Sprache für den **Code-Genehmigungsablauf (PKCE)** in Ihrer Anwendung erläutert.</span><span class="sxs-lookup"><span data-stu-id="f88ab-105">[Microsoft identity platform and OAuth 2.0 authorization code flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-auth-code-flow) - This article describes how to program directly against the **code grant (PKCE) flow** in your application, using any language.</span></span>
- <span data-ttu-id="f88ab-106">[Microsoft Identity Platform und der OAuth 2.0-Clientanmeldeinformationsfluss](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow): In diesem Artikel wird beschrieben, wie Sie direkt für den **Clientanmeldeinformationsfluss** in Ihrer Anwendung programmieren können.</span><span class="sxs-lookup"><span data-stu-id="f88ab-106">[Microsoft identity platform and the OAuth 2.0 client credentials flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow) - This article describes how to program directly against the **client credentials flow** in your application.</span></span>
- <span data-ttu-id="f88ab-107">[Microsoft Identity Platform und OAuth 2.0-Anmeldeinformationen des Ressourcenbesitzers (ROPC, Resource Owner Password Credentials)](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc): In diesem Artikel wird beschrieben, wie Sie direkt für den **ROPC-Ablauf** programmieren können.</span><span class="sxs-lookup"><span data-stu-id="f88ab-107">[Microsoft identity platform and OAuth 2.0 Resource Owner Password Credentials](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth-ropc) - This article describes how to program directly against the **ROPC flow** in your application.</span></span>
    - <span data-ttu-id="f88ab-108">Die Microsoft Identity Platform unterstützt nur ROPC für Azure AD-Mandanten und nicht für persönliche Konten.</span><span class="sxs-lookup"><span data-stu-id="f88ab-108">The Microsoft identity platform only supports ROPC for Azure AD tenants, and not for personal accounts.</span></span> <span data-ttu-id="f88ab-109">Dies bedeutet, dass Sie einen mandantenspezifischen Endpunkt **(https://login.microsoftonline.com/{TenantId_or_Name})** oder den **Organisations**-Endpunkt verwenden müssen.</span><span class="sxs-lookup"><span data-stu-id="f88ab-109">This means that you must use a tenant-specific endpoint **(https://login.microsoftonline.com/{TenantId_or_Name})** or the **organizations** endpoint.</span></span>
    - <span data-ttu-id="f88ab-110">Persönliche Konten, die zu einem Azure AD-Mandanten eingeladen wurden, können kein ROPC verwenden.</span><span class="sxs-lookup"><span data-stu-id="f88ab-110">Personal accounts that are invited to an Azure AD tenant can't use ROPC.</span></span>
    - <span data-ttu-id="f88ab-111">Konten, die nicht über Kennwörter verfügen, können sich nicht über ROPC anmelden.</span><span class="sxs-lookup"><span data-stu-id="f88ab-111">Accounts that don't have passwords can't sign in through ROPC.</span></span> <span data-ttu-id="f88ab-112">Für dieses Szenario empfehlen wir, stattdessen einen anderen Ablauf für Ihre App zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="f88ab-112">For this scenario, we recommend that you use a different flow for your app, instead.</span></span>
    - <span data-ttu-id="f88ab-113">Wenn Benutzer sich mittels [mehrstufiger Authentifizierung (Multi-Factor Authentication, MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) bei der Anwendung anmelden müssen, werden sie blockiert.</span><span class="sxs-lookup"><span data-stu-id="f88ab-113">If users need to use [multi-factor authentication (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) to log in to the application, they will be blocked.</span></span>
    - <span data-ttu-id="f88ab-114">ROPC wird in [Hybrididentitätsverbund](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed)-Szenarien nicht unterstützt (z. B. Azure AD und ADFS, die für die Authentifizierung von lokalen Konten verwendet werden).</span><span class="sxs-lookup"><span data-stu-id="f88ab-114">ROPC is not supported in [hybrid identity federation](https://docs.microsoft.com/azure/active-directory/hybrid/whatis-fed) scenarios (for example, Azure AD and ADFS used to authenticate on-premises accounts).</span></span> <span data-ttu-id="f88ab-115">Wenn Benutzer ganzseitig auf einen lokalen Identitätsanbieter umgeleitet werden, kann Azure AD den Benutzernamen und das Kennwort für diesen Identitätsanbieter nicht testen.</span><span class="sxs-lookup"><span data-stu-id="f88ab-115">If users are full-page redirected to an on-premises identity provider, Azure AD is not able to test the username and password against that identity provider.</span></span> <span data-ttu-id="f88ab-116">[Pass-Through-Authentifizierung](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) mit ROPC wird jedoch unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f88ab-116">[Pass-through authentication](https://docs.microsoft.com/azure/active-directory/hybrid/how-to-connect-pta) is supported with ROPC, however.</span></span>
    - <span data-ttu-id="f88ab-117">Eine Ausnahme für ein Hybrididentitätsverbund-Szenario wäre die folgende: Die Home Realm Discovery-Richtlinie, mit **AllowCloudPasswordValidation** auf **TRUE** gesetzt, ermöglicht den ROPC-Ablauf für Verbundbenutzer, wenn das lokale Kennwort mit der Cloud synchronisiert wird.</span><span class="sxs-lookup"><span data-stu-id="f88ab-117">An exception to a hybrid identity federation scenario would be the following: Home Realm Discovery policy with **AllowCloudPasswordValidation** set to **TRUE** will enable ROPC flow to work for federated users when on-premises password is synced to cloud.</span></span> <span data-ttu-id="f88ab-118">Weitere Informationen finden Sie unter [Aktivieren der direkten ROPC-Authentifizierung von Verbundbenutzern bei älteren Anwendungen](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications).</span><span class="sxs-lookup"><span data-stu-id="f88ab-118">For more information, see [Enable direct ROPC authentication of federated users for legacy applications](https://docs.microsoft.com/azure/active-directory/manage-apps/configure-authentication-for-federated-users-portal#enable-direct-ropc-authentication-of-federated-users-for-legacy-applications)</span></span> 
- <span data-ttu-id="f88ab-119">[Microsoft Identity Platform und OAuth 2.0 "Im Auftrag von"-Ablauf](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow): In diesem Artikel die direkte Programmierung für den **"Im Auftrag von"-Ablauf (On-Behalf-Of, OBO)** in Ihrer Anwendung erläutert.</span><span class="sxs-lookup"><span data-stu-id="f88ab-119">[Microsoft identity platform and OAuth 2.0 On-Behalf-Of flow](https://docs.microsoft.com/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow) - This article describes how to program directly against the **on-behalf-of (OBO) flow** in your application.</span></span>
- <span data-ttu-id="f88ab-120">[Microsoft Identity Platform und OpenID Connect-Protokoll](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc): In diesem Artikel wird gezeigt, wie das OpenID-Protokoll sprachunabhängig implementiert wird, und beschrieben, wie HTTP-Nachrichten gesendet und empfangen werden können, ohne irgendwelche Open-Source-Bibliotheken von Microsoft zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="f88ab-120">[Microsoft identity platform and OpenID Connect protocol](https://docs.microsoft.com/azure/active-directory/develop/v2-protocols-oidc) - This article shows how to implement the OpenID Connect protocol independent of language, and describes how to send and receive HTTP messages without using any Microsoft open-source libraries.</span></span>

<span data-ttu-id="f88ab-121">**Zugriffstoken**</span><span class="sxs-lookup"><span data-stu-id="f88ab-121">**Access Tokens**</span></span>

<span data-ttu-id="f88ab-122">[Zugriffstoken von Microsoft Identity Platform](https://docs.microsoft.com/azure/active-directory/develop/access-tokens): Erfahren Sie, wie Ihre API die Ansprüche in einem Zugriffstoken validieren und verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="f88ab-122">[Microsoft identity platform access tokens](https://docs.microsoft.com/azure/active-directory/develop/access-tokens) - Learn how your API can validate and use the claims inside an access token.</span></span> <span data-ttu-id="f88ab-123">Die gesamte Dokumentation in diesem Artikel gilt, sofern nicht anders angegeben, nur für Token, die für von Ihnen registrierte APIs ausgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="f88ab-123">All documentation in this article, except where noted, applies only to tokens issued for APIs you've registered.</span></span> <span data-ttu-id="f88ab-124">Sie gilt nicht für Token, die für Microsoft-eigene APIs ausgestellt wurden, noch können diese Token verwendet werden, um zu überprüfen, wie Microsoft Identity Platform-Token für eine von Ihnen erstellte API ausstellt.</span><span class="sxs-lookup"><span data-stu-id="f88ab-124">It does not apply to tokens issued for Microsoft-owned APIs, nor can those tokens be used to validate how the Microsoft identity platform will issue tokens for an API you create.</span></span>

<span data-ttu-id="f88ab-125">**Anwendungskonfiguration**</span><span class="sxs-lookup"><span data-stu-id="f88ab-125">**Application Configuration**</span></span>

<span data-ttu-id="f88ab-126">[Einschränkungen für Umleitungs-URI (Antwort-URLs)](https://docs.microsoft.com/azure/active-directory/develop/reply-url): Erfahren Sie, wie Sie den Umleitungs-URI (Antwort-URL) konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="f88ab-126">[Redirect URI (reply URL) restrictions and limitations](https://docs.microsoft.com/azure/active-directory/develop/reply-url) - Learn how to configure your Redirect URI (reply URL).</span></span> <span data-ttu-id="f88ab-127">Ein Umleitungs-URI (oder Antwort-URL) ist der Ort, an den der Autorisierungsserver den Benutzer weiterleitet, sobald die App erfolgreich autorisiert wurde und einen Autorisierungscode oder ein Zugriffstoken erhalten hat.</span><span class="sxs-lookup"><span data-stu-id="f88ab-127">A redirect URI, or reply URL, is the location where the authorization server sends the user once the app has been successfully authorized and granted an authorization code or access token.</span></span> <span data-ttu-id="f88ab-128">Der Autorisierungsserver sendet den Code oder das Token an den Umleitungs-URI. Daher ist es wichtig, dass Sie im Rahmen der App-Registrierung die richtige Adresse registrieren.</span><span class="sxs-lookup"><span data-stu-id="f88ab-128">The authorization server sends the code or token to the redirect URI; so it's important you register the correct location as part of the app registration process.</span></span>

<span data-ttu-id="f88ab-129">**Bereitstellung der Anwendung**</span><span class="sxs-lookup"><span data-stu-id="f88ab-129">**Application Provisioning**</span></span>

<span data-ttu-id="f88ab-130">[Lernprogramm: Entwickeln und Planen der Bereitstellung für einen SCIM-Endpunkt](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups): In diesem Artikel wird beschrieben, wie Sie einen SCIM-Endpunkt erstellen und in den AAD-Bereitstellungsdienst integrieren können.</span><span class="sxs-lookup"><span data-stu-id="f88ab-130">[Tutorial: Develop and plan provisioning for a SCIM endpoint](https://docs.microsoft.com/azure/active-directory/app-provisioning/use-scim-to-provision-users-and-groups) - This article describes how to build an SCIM endpoint and integrate with the AAD provisioning service.</span></span>


